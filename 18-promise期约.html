<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <!-- <script src="./18-promise.js"></script> -->
    <script src=./promise_class.js></script>
    <script>
   /*  const p = new myPromise((resolve, reject) => {
        setTimeout(() => {
            resolve(1)
            console.log('resolve改变状态之后') // 用来证明resolve(1)函数异步执行
        },1000)
    });
    p.then(undefined, reason => {
        console.log('reason1', reason)
    })
    p.then(value => {
        console.log('value2', value)
    }, reason => {
        console.log('reason2', reason)
    }) */
    let1 = new myPromise((resolve, reject) => {
      setTimeout(() => {
      resolve(1)
    }, 10000)
    })
    let2 = new myPromise((resolve, reject) => {
      setTimeout(() => {
      resolve(2)
    }, 100)
    })
    let3 =myPromise.reject(3)
    // let3 = new Promise((resolve, reject) => reject('111'))
    const pAll = myPromise.race([let1, let2])
    console.log(pAll);
    pAll.then(
      values => {
        console.log('all resolve', values);
      },
      reason => {
        console.log('all reject', reason);
      }
    )
 /*    let p2 = new Promise ((resolve, reject) => {
      resolve('成功')
    }).catch((err) => err)
    Promise.all([p1, p2]).then(res => console.log(res)).catch((err) => err) */
   
    //********************************************************
  
  </script>
  </body>
</html>